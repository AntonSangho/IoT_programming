# 2êµì‹œ â€” Jinja2 í…œí”Œë¦¿ìœ¼ë¡œ ë°ì´í„° í‘œì‹œí•˜ê¸°
**ì—¬ëŸ¬ ê°œì˜ ì„¼ì„œ ë°ì´í„°ë¥¼ ì›¹ í˜ì´ì§€ì— ë™ì ìœ¼ë¡œ ì¶œë ¥í•˜ê¸°**

> ğŸ“Œ **êµì‚¬ ì°¸ê³ :** ì´ ë¬¸ì„œëŠ” ì •ë‹µ í¬í•¨ êµì‚¬ìš©ì…ë‹ˆë‹¤. í•™ìƒ ë°°í¬ ì‹œ `âœ… ì •ë‹µ` í•­ëª©ì„ ì œê±°í•˜ì„¸ìš”.

---

### ğŸ¯ í•™ìŠµ ëª©í‘œ
- Jinja2ì˜ `{{ }}`, `{% for %}`, `{% if %}` ë¬¸ë²•ì„ ì´í•´í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- Python ë¦¬ìŠ¤íŠ¸ë¥¼ í…œí”Œë¦¿ì— ì „ë‹¬í•´ ë°˜ë³µ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.
- ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ ë‚´ìš©ì„ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.

### â± ì‹œê°„ ê³„íš (50ë¶„)
| ì‹œê°„ | ë‚´ìš© |
|------|------|
| 0~5ë¶„ | ì§€ë‚œ ì‹œê°„ ë³µìŠµ |
| 5~15ë¶„ | ê°œë… â€” Jinja2 ë¬¸ë²• 3ê°€ì§€ |
| 15~25ë¶„ | ì‹¤ìŠµ 1 â€” ë¦¬ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ í‘œë¡œ ì¶œë ¥ |
| 25~35ë¶„ | ì‹¤ìŠµ 2 â€” `{% if %}`ë¡œ ìƒíƒœ í‘œì‹œ |
| 35~45ë¶„ | ì‹¤ìŠµ 3 â€” í˜„ì¬ ì‹œê°„ í‘œì‹œ ì¶”ê°€ |
| 45~50ë¶„ | ì •ë¦¬ |

---

## 1. ì§€ë‚œ ì‹œê°„ ë³µìŠµ (5ë¶„)

**ì¹ íŒì— ì§ˆë¬¸ ì ê¸°:**

> 1êµì‹œì—ì„œ ë°°ìš´ `return`ì˜ ì„¸ ê°€ì§€ í˜•íƒœëŠ”?

í•™ìƒ ë‹µë³€ í›„ ì •ë¦¬:

```
return "ë¬¸ìì—´"         â†’ í…ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ ì¶œë ¥
return render_template() â†’ HTML íŒŒì¼ì„ í˜ì´ì§€ë¡œ ì¶œë ¥
return jsonify()         â†’ JSON ë°ì´í„°ë¡œ ì¶œë ¥
```

> ì˜¤ëŠ˜ì€ `render_template()` ì„ ë” ê¹Šì´ ë‹¤ë£¹ë‹ˆë‹¤.
> ì§€ê¸ˆê¹Œì§€ëŠ” ë°ì´í„° 1ê°œë§Œ ë„˜ê²¼ëŠ”ë°, ì˜¤ëŠ˜ì€ **ì—¬ëŸ¬ ê°œ**ë¥¼ ë„˜ê²¨ë³¼ ê±°ì˜ˆìš”.

---

## 2. ê°œë… â€” Jinja2 ë¬¸ë²• 3ê°€ì§€

Jinja2ëŠ” HTML ì•ˆì—ì„œ Pythonì²˜ëŸ¼ ë³€ìˆ˜ë¥¼ ì“°ê³  ë°˜ë³µí•˜ê²Œ í•´ì£¼ëŠ” í…œí”Œë¦¿ ì–¸ì–´ì…ë‹ˆë‹¤.

| ë¬¸ë²• | ì—­í•  | ì˜ˆì‹œ |
|------|------|------|
| `{{ ë³€ìˆ˜ }}` | ê°’ ì¶œë ¥ | `{{ sensor.temperature }}` |
| `{% for %}` | ë°˜ë³µ | `{% for item in list %}` |
| `{% if %}` | ì¡°ê±´ | `{% if temp > 28 %}` |

### ì˜ˆì‹œ ì½”ë“œ

**app.py**
```python
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/')
def index():
    # ê°€ì§œ ì„¼ì„œ ë°ì´í„° (ë‚˜ì¤‘ì— Arduino ì‹¤ì œ ë°ì´í„°ë¡œ êµì²´ ì˜ˆì •)
    records = [
        {"temperature": 25.3, "humidity": 60.5},
        {"temperature": 27.1, "humidity": 58.2},
        {"temperature": 29.4, "humidity": 55.0},
        {"temperature": 23.8, "humidity": 65.3},
    ]
    return render_template("index.html", records=records)

if __name__ == '__main__':
    app.run(debug=True)
```

**templates/index.html**
```html
<!DOCTYPE html>
<html>
<head><title>ì„¼ì„œ ë°ì´í„°</title></head>
<body>
    <h1>ì„¼ì„œ ê¸°ë¡</h1>
    <table border="1">
        <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì˜¨ë„ (Â°C)</th>
            <th>ìŠµë„ (%)</th>
        </tr>
        {% for row in records %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ row.temperature }}</td>
            <td>{{ row.humidity }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
```

> ğŸ’¡ `loop.index` ëŠ” Jinja2ê°€ ì œê³µí•˜ëŠ” ë°˜ë³µ ë²ˆí˜¸ì…ë‹ˆë‹¤. 1ë¶€í„° ì‹œì‘í•´ìš”.

---

## 3. ì‹¤ìŠµ 1 â€” ë¦¬ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ í‘œë¡œ ì¶œë ¥ (10ë¶„)

ìœ„ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì…ë ¥í•˜ê³  ì‹¤í–‰í•´ë³´ì„¸ìš”.

**Q1.** `records` ë¦¬ìŠ¤íŠ¸ì— í•­ëª©ì„ 1ê°œ ë” ì¶”ê°€í•˜ë©´ ë¸Œë¼ìš°ì € í‘œì— ì–´ë–»ê²Œ ë°˜ì˜ë˜ë‚˜ìš”?

```
ë‹µ:
```

> âœ… **ì •ë‹µ:** ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì¶”ê°€í•œ í•­ëª©ì´ ìë™ìœ¼ë¡œ í‘œì˜ ìƒˆ í–‰ìœ¼ë¡œ ë‚˜íƒ€ë‚œë‹¤. HTMLì„ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ Python ë°ì´í„°ë§Œ ë°”ê¾¸ë©´ í‘œê°€ ë™ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ëœë‹¤.

&nbsp;

**Q2.** `{% for row in records %}` ì—ì„œ `records`ë¥¼ `data`ë¡œ ë°”ê¾¸ë©´ ì–´ë–»ê²Œ í•´ì•¼ ì •ìƒ ë™ì‘í• ê¹Œìš”?

```
ë‹µ:
```

> âœ… **ì •ë‹µ:** `app.py`ì—ì„œ `render_template("index.html", data=records)` ë¡œ ë³€ìˆ˜ ì´ë¦„ì„ ë§ì¶°ì¤˜ì•¼ í•œë‹¤. í…œí”Œë¦¿ì˜ ë³€ìˆ˜ ì´ë¦„ì€ `render_template()` ì—ì„œ ë„˜ê²¨ì¤€ í‚¤ì›Œë“œ ì¸ì ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•œë‹¤.

&nbsp;

**Q3.** `loop.index` ëŒ€ì‹  `loop.index0` ë¥¼ ì“°ë©´ ë²ˆí˜¸ê°€ ì–´ë–»ê²Œ ë°”ë€Œë‚˜ìš”? ì§ì ‘ í™•ì¸í•´ ë³´ì„¸ìš”.

```
ë‹µ:
```

> âœ… **ì •ë‹µ:** ë²ˆí˜¸ê°€ 0ë¶€í„° ì‹œì‘í•œë‹¤. `loop.index`ëŠ” 1ë¶€í„°, `loop.index0`ì€ 0ë¶€í„° ì‹œì‘í•˜ëŠ” ì°¨ì´ê°€ ìˆë‹¤.

---

## 4. ì‹¤ìŠµ 2 â€” `{% if %}`ë¡œ ìƒíƒœ í‘œì‹œ (10ë¶„)

ì˜¨ë„ê°€ **28ë„ ì´ìƒ**ì´ë©´ "ğŸ”´ ë”ì›€", ë¯¸ë§Œì´ë©´ "ğŸŸ¢ ì¾Œì "ìœ¼ë¡œ í‘œì‹œí•´ë´…ì‹œë‹¤.

**templates/index.html ìˆ˜ì • â€” `<td>` í•˜ë‚˜ ì¶”ê°€:**

```html
{% for row in records %}
<tr>
    <td>{{ loop.index }}</td>
    <td>{{ row.temperature }}</td>
    <td>{{ row.humidity }}</td>
    <td>
        {% if row.temperature >= 28 %}
            ğŸ”´ ë”ì›€
        {% else %}
            ğŸŸ¢ ì¾Œì 
        {% endif %}
    </td>
</tr>
{% endfor %}
```

**Q4.** ê¸°ì¤€ ì˜¨ë„ë¥¼ 28ë„ì—ì„œ 25ë„ë¡œ ë°”ê¾¸ë©´ ê²°ê³¼ê°€ ì–´ë–»ê²Œ ë‹¬ë¼ì§€ë‚˜ìš”?

```
ë‹µ:
```

> âœ… **ì •ë‹µ:** 25ë„ ì´ìƒì¸ í•­ëª©ì´ ëª¨ë‘ "ğŸ”´ ë”ì›€"ìœ¼ë¡œ ë°”ë€ë‹¤. 25.3, 27.1, 29.4ê°€ ë”ì›€ìœ¼ë¡œ í‘œì‹œë˜ê³ , 23.8ë§Œ ì¾Œì ìœ¼ë¡œ í‘œì‹œëœë‹¤.

&nbsp;

**Q5.** "ë³´í†µ" ë‹¨ê³„ë¥¼ ì¶”ê°€í•´ì„œ 3ë‹¨ê³„(ì¾Œì  / ë³´í†µ / ë”ì›€)ë¡œ ë§Œë“¤ë ¤ë©´ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í• ê¹Œìš”?

```html
{% if row.temperature >= ___ %}
    ğŸ”´ ë”ì›€
{% elif row.temperature >= ___ %}
    ğŸŸ¡ ë³´í†µ
{% else %}
    ğŸŸ¢ ì¾Œì 
{% endif %}
```

ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ìˆ«ìë¥¼ ê²°ì •í•˜ê³  ì§ì ‘ ìˆ˜ì •í•´ ë³´ì„¸ìš”.

```
ë‚´ê°€ ì •í•œ ê¸°ì¤€:
```

> âœ… **ì •ë‹µ ì˜ˆì‹œ:** 28ë„ ì´ìƒ ë”ì›€, 24ë„ ì´ìƒ ë³´í†µ, 24ë„ ë¯¸ë§Œ ì¾Œì ìœ¼ë¡œ ê¸°ì¤€ì„ ì •í•  ìˆ˜ ìˆë‹¤. `{% elif %}` ëŠ” Pythonì˜ `elif` ì™€ ê°™ì€ ì—­í• ì„ í•œë‹¤. ê¸°ì¤€ì€ í•™ìƒë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë©° ì´ìœ ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆìœ¼ë©´ ì •ë‹µì´ë‹¤.

---

## 5. ì‹¤ìŠµ 3 â€” í˜„ì¬ ì‹œê°„ í‘œì‹œ ì¶”ê°€ (10ë¶„)

ë‚˜ì¤‘ì— ì‹¤ì œ Arduino ë°ì´í„°ë¥¼ ì“¸ ë•ŒëŠ” "ì–¸ì œ ì¸¡ì •ëëŠ”ì§€"ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.
ì§€ê¸ˆì€ Pythonì˜ `datetime`ìœ¼ë¡œ í˜„ì¬ ì‹œê°„ì„ ë„˜ê²¨ë³´ê² ìŠµë‹ˆë‹¤.

**app.py ìˆ˜ì •:**

```python
from flask import Flask, render_template
from datetime import datetime

app = Flask(__name__)

@app.route('/')
def index():
    records = [
        {"temperature": 25.3, "humidity": 60.5},
        {"temperature": 27.1, "humidity": 58.2},
        {"temperature": 29.4, "humidity": 55.0},
        {"temperature": 23.8, "humidity": 65.3},
    ]
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    return render_template("index.html", records=records, now=now)

if __name__ == '__main__':
    app.run(debug=True)
```

**templates/index.html â€” ì œëª© ì•„ë˜ ì¶”ê°€:**

```html
<h1>ì„¼ì„œ ê¸°ë¡</h1>
<p>í˜ì´ì§€ ë¡œë”© ì‹œê°: {{ now }}</p>
```

**Q6.** ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œê³ ì¹¨í•  ë•Œë§ˆë‹¤ ì‹œê°ì´ ë°”ë€Œë‚˜ìš”? ì™œ ê·¸ëŸ°ê°€ìš”?

```
ë‹µ:
```

> âœ… **ì •ë‹µ:** ìƒˆë¡œê³ ì¹¨í•  ë•Œë§ˆë‹¤ Flaskê°€ `index()` í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ê³ , `datetime.now()`ê°€ ê·¸ ì‹œì ì˜ ì‹œê°„ì„ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ë§¤ë²ˆ ë‹¤ë¥¸ ì‹œê°ì´ í‘œì‹œëœë‹¤.

&nbsp;

**Q7.** ì‹œê° í˜•ì‹ì„ `2026ë…„ 02ì›” 20ì¼ 09:30` í˜•íƒœë¡œ ë°”ê¾¸ë ¤ë©´ `strftime` í¬ë§·ì„ ì–´ë–»ê²Œ ë°”ê¿”ì•¼ í• ê¹Œìš”?

```
ë‹µ:
```

> âœ… **ì •ë‹µ:** `datetime.now().strftime("%Yë…„ %mì›” %dì¼ %H:%M")`

---

## 6. ì •ë¦¬ (5ë¶„)

```
{{ ë³€ìˆ˜ }}         â†’ Python ê°’ì„ HTMLì— ì¶œë ¥
{% for ~ %}        â†’ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜ë³µí•´ì„œ ì¶œë ¥
{% if ~ %}         â†’ ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥´ê²Œ í‘œì‹œ
{% endif %}        â†’ ë°˜ë“œì‹œ ë‹«ì•„ì•¼ í•¨ ({% endfor %} ë„ ë§ˆì°¬ê°€ì§€)
```

### ìµœì¢… í™•ì¸ ì§ˆë¬¸

**Q8.** ì•„ë˜ ì½”ë“œì—ì„œ ì˜ëª»ëœ ë¶€ë¶„ì„ ì°¾ì•„ë³´ì„¸ìš”.

```html
{% for item in data %}
    <p>{{ item.temperature }}</p>
```

```
ì˜ëª»ëœ ë¶€ë¶„:
```

> âœ… **ì •ë‹µ:** `{% endfor %}` ê°€ ì—†ë‹¤. Jinja2ì˜ ë¸”ë¡ íƒœê·¸ëŠ” ë°˜ë“œì‹œ ë‹«ì•„ì•¼ í•œë‹¤.

&nbsp;

**Q9.** `records` ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆì„ ë•Œ "ë°ì´í„° ì—†ìŒ"ì„ í‘œì‹œí•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?

```html
{% __ records %}
    <p>ë°ì´í„° ì—†ìŒ</p>
{% __ %}
    {% for row in records %}
        ...
    {% endfor %}
{% endif %}
```

ë¹ˆì¹¸ì„ ì±„ì›Œë³´ì„¸ìš”.

```
ë‹µ:
```

> âœ… **ì •ë‹µ:**
> ```html
> {% if not records %}
>     <p>ë°ì´í„° ì—†ìŒ</p>
> {% else %}
>     {% for row in records %}
>         ...
>     {% endfor %}
> {% endif %}
> ```

---

## ğŸ“ ì°¸ê³  ìë£Œ

| ìë£Œ | ë§í¬ | ë‚´ìš© |
|------|------|------|
| Jinja2 ê³µì‹ ë¬¸ì„œ â€” í…œí”Œë¦¿ ë¬¸ë²• | https://jinja.palletsprojects.com/en/stable/templates/ | `{{ }}`, `{% %}` ì „ì²´ ë¬¸ë²• |
| Jinja2 â€” ë°˜ë³µë¬¸(for) | https://jinja.palletsprojects.com/en/stable/templates/#for | `loop.index`, `loop.last` ë“± |
| Jinja2 â€” ì¡°ê±´ë¬¸(if) | https://jinja.palletsprojects.com/en/stable/templates/#if | `{% if %}`, `{% elif %}`, `{% else %}` |
| Flask ê³µì‹ ë¬¸ì„œ â€” í…œí”Œë¦¿ | https://flask.palletsprojects.com/en/stable/templating/ | Flaskì—ì„œ Jinja2 ì‚¬ìš©ë²• |
| Python strftime í¬ë§· | https://strftime.org/ | ë‚ ì§œ/ì‹œê°„ í¬ë§· í•œëˆˆì— ë³´ê¸° |
| ì í”„ íˆ¬ í”Œë¼ìŠ¤í¬ â€” í…œí”Œë¦¿ | https://wikidocs.net/book/4542 | í•œêµ­ì–´ Jinja2 ì„¤ëª… |

---

> ğŸ’¡ **ë‹¤ìŒ ì‹œê°„ ì˜ˆê³ :** 3êµì‹œì—ì„œëŠ” `pyserial`ì„ ì‚¬ìš©í•´ Arduinoì—ì„œ ì˜¤ëŠ” ì‹¤ì œ ë°ì´í„°ë¥¼ Flaskì— ì—°ê²°í•©ë‹ˆë‹¤. ì˜¤ëŠ˜ ë§Œë“  ê°€ì§œ ë°ì´í„°ê°€ ì‹¤ì œ ì„¼ì„œ ë°ì´í„°ë¡œ êµì²´ë©ë‹ˆë‹¤.
